setwd("D:/GitRepository/coursera/practicalmachinelearning/PracticalMachineLearning")
suppressMessages(library(caret))
suppressMessages(library(randomForest))
install.packages("randomForest")
install.packages("rattle")
install.packages("ModelMetrics")
install.packages("gbm")
install.packages("glmnet")
install.packages("Hmisc")
install.packages("pgmm")
suppressMessages(library(caret))
suppressMessages(library(randomForest))
suppressMessages(library(ggplot2))
suppressMessages(library(rattle))
suppressMessages(library(ModelMetrics))
suppressMessages(library(gbm))
suppressMessages(library(glmnet))
suppressMessages(library(Hmisc))
suppressMessages(library(pgmm))
suppressMessages(library(forecast))
install.packages("forecast")
suppressMessages(library(caret))
suppressMessages(library(randomForest))
suppressMessages(library(ggplot2))
suppressMessages(library(rattle))
suppressMessages(library(ModelMetrics))
suppressMessages(library(gbm))
suppressMessages(library(glmnet))
suppressMessages(library(Hmisc))
suppressMessages(library(pgmm))
suppressMessages(library(forecast))
install.packages("lmtest")
suppressMessages(library(caret))
suppressMessages(library(randomForest))
suppressMessages(library(ggplot2))
suppressMessages(library(rattle))
suppressMessages(library(ModelMetrics))
suppressMessages(library(gbm))
suppressMessages(library(glmnet))
suppressMessages(library(Hmisc))
suppressMessages(library(pgmm))
suppressMessages(library(forecast))
suppressMessages(library(dplyr))
setwd("D:/GitRepository/coursera/practicalmachinelearning/PracticalMachineLearning")
# Downloading data into a created directory if the directory does not exist.
if (!dir.exists("./data/")){
dir.create("./data/")
download.file("https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv", destfile = "./data/training.csv")
download.file("https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv", destfile = "./data/testing.csv")
}
# Reading in the downloaded data
testing <- read.csv("./data/testing.csv")
training <- read.csv("./data/training.csv")
for(i in names(training)){
training[which(training[,i] == "" | training[,i] == "#DIV/0!"), i] <- NA
}
training <- training[, !apply(is.na(training), 2, all)]
View(training)
for(i in names(training)){
training[which(training[,i] == "" | training[,i] == "#DIV/0!"), i] <- NA
}
summary(training)
training$classe
training[, factor_cols] <- as.factor(training[, factor_cols])
factor_cols <- c("user_name","new_window","num_window","classe")
date_cols <- c("cvtd_timestamp")
training[, factor_cols] <- as.factor(training[, factor_cols])
library(lubridate)
install.packages("lubridate")
suppressMessages(library(lubridate))
training[, date_cols] <- dmy_hm(training[, date_cols])
training[, factor_cols] <- as.factor(training[, factor_cols])
for(i in names(training)){
training[which(training[,i] == "" | training[,i] == "#DIV/0!"), i] <- NA
}
testing <- read.csv("./data/testing.csv")
training <- read.csv("./data/training.csv")
for(i in names(training)){
training[which(training[,i] == "" | training[,i] == "#DIV/0!"), i] <- NA
}
training <- training[, !apply(is.na(training), 2, all)]
factor_cols <- c("user_name","new_window","num_window","classe")
date_cols <- c("cvtd_timestamp")
training[, factor_cols] <- as.factor(training[, factor_cols])
factor_cols <- c("user_name","new_window")
training[, factor_cols] <- as.factor(training[, factor_cols])
factor_cols <- c("num_window","classe")
training[, factor_cols] <- as.factor(training[, factor_cols])
training[, factor_cols] <- lapply(training[, factor_cols], factor)
testing <- read.csv("./data/testing.csv")
training <- read.csv("./data/training.csv")
for(i in names(training)){
training[which(training[,i] == "" | training[,i] == "#DIV/0!"), i] <- NA
}
training <- training[, !apply(is.na(training), 2, all)]
factor_cols <- c("user_name","new_window","classe")
date_cols <- c("cvtd_timestamp")
training[, factor_cols] <- lapply(training[, factor_cols], factor)
training[, date_cols] <- dmy_hm(training[, date_cols])
testing[, factor_cols] <- lapply(testing[, factor_cols], factor)
testing[, factor_cols] <- lapply(testing[, factor_cols], factor)
factor_cols <- c("user_name","new_window")
date_cols <- c("cvtd_timestamp")
testing[, factor_cols] <- lapply(testing[, factor_cols], factor)
testing[, date_cols] <- dmy_hm(testing[, date_cols])
which(!names(training) %in% c(factor_cols,date_cols,"classe"))
training[1,which(!names(training) %in% c(factor_cols,date_cols,"classe"))]
training[1, which(!names(training) %in% c(factor_cols,date_cols,"classe"))]
training[, which(!names(training) %in% c(factor_cols,date_cols,"classe"))]
k<-training[, which(!names(training) %in% c(factor_cols,date_cols,"classe"))]
num_cols <- which(!names(training) %in% c(factor_cols,date_cols,"classe"))
training[, num_cols] <- as.numeric(training[, num_cols])
testing <- read.csv("./data/testing.csv")
training <- read.csv("./data/training.csv")
for(i in names(training)){
training[which(training[,i] == "" | training[,i] == "#DIV/0!"), i] <- NA
}
training <- training[, !apply(is.na(training), 2, all)]
factor_cols <- c("user_name","new_window")
date_cols <- c("cvtd_timestamp")
training[, factor_cols] <- lapply(training[, c(factor_cols,"classe")], factor)
training[, date_cols] <- dmy_hm(training[, date_cols])
num_cols <- which(!names(training) %in% c(factor_cols,date_cols,"classe"))
training[, num_cols] <- as.numeric(training[, num_cols])
testing <- read.csv("./data/testing.csv")
training <- read.csv("./data/training.csv")
testing <- read.csv("./data/testing.csv")
training <- read.csv("./data/training.csv")
for(i in names(training)){
training[which(training[,i] == "" | training[,i] == "#DIV/0!"), i] <- NA
}
training <- training[, !apply(is.na(training), 2, all)]
factor_cols <- c("user_name","new_window")
date_cols <- c("cvtd_timestamp")
training[, factor_cols] <- lapply(training[, c(factor_cols,"classe")], factor)
training[, c(factor_cols,"classe")] <- lapply(training[, c(factor_cols,"classe")], factor)
testing <- read.csv("./data/testing.csv")
training <- read.csv("./data/training.csv")
for(i in names(training)){
training[which(training[,i] == "" | training[,i] == "#DIV/0!"), i] <- NA
}
training <- training[, !apply(is.na(training), 2, all)]
factor_cols <- c("user_name","new_window")
date_cols <- c("cvtd_timestamp")
training[, c(factor_cols,"classe")] <- lapply(training[, c(factor_cols,"classe")], factor)
training[, date_cols] <- dmy_hm(training[, date_cols])
num_cols <- which(!names(training) %in% c(factor_cols,date_cols,"classe"))
training[, num_cols] <- as.numeric(training[, num_cols])
str(training)
training[, num_cols] <- as.numeric(as.character(training[, num_cols]))
str(training)
training <- read.csv("./data/training.csv")
str(training)
training2[, num_cols] <- as.numeric(as.character(training[, num_cols]))
training2 <- as.numeric(as.character(training[, num_cols]))
testing <- read.csv("./data/testing.csv")
training <- read.csv("./data/training.csv")
for(i in names(training)){
training[which(training[,i] == "" | training[,i] == "#DIV/0!"), i] <- NA
}
training <- training[, !apply(is.na(training), 2, all)]
factor_cols <- c("user_name","new_window")
date_cols <- c("cvtd_timestamp")
training[, c(factor_cols,"classe")] <- lapply(training[, c(factor_cols,"classe")], factor)
training[, date_cols] <- dmy_hm(training[, date_cols])
num_cols <- which(!names(training) %in% c(factor_cols,date_cols,"classe"))
training2 <- as.numeric(as.character(training[, num_cols]))
str(training)
#for(i in names(testing)){
#  testing[which(testing[,i] == "" | testing[,i] == "#DIV/0!"), i] <- NA
#}
#testing <- testing[, !apply(is.na(testing), 2, all)]
testing[, factor_cols] <- lapply(testing[, factor_cols], factor)
testing[, date_cols] <- dmy_hm(testing[, date_cols])
str(training2)
training[, num_cols]
for(i in num_cols){
print(training[,i])
}
for(i in names(training)){
training[which(training[,i] == "" | training[,i] == "#DIV/0!" | training[,i] == "<NA>"), i] <- NA
}
training <- read.csv("./data/training.csv")
for(i in names(training)){
training[which(training[,i] == "" | training[,i] == "#DIV/0!" | training[,i] == "<NA>"), i] <- NA
}
training <- training[, !apply(is.na(training), 2, all)]
factor_cols <- c("user_name","new_window")
date_cols <- c("cvtd_timestamp")
training[, c(factor_cols,"classe")] <- lapply(training[, c(factor_cols,"classe")], factor)
training[, date_cols] <- dmy_hm(training[, date_cols])
num_cols <- which(!names(training) %in% c(factor_cols,date_cols,"classe"))
for(i in num_cols){
print(training[,i])
}
View(training)
training <- read.csv("./data/training.csv")
for(i in names(training)){
training[which(training[,i] == "" | training[,i] == "#DIV/0!" | training[,i] == "NA"), i] <- NA
}
training <- training[, !apply(is.na(training), 2, all)]
num_cols <- which(!names(training) %in% c(factor_cols,date_cols,"classe"))
for(i in num_cols){
print(training[,i])
}
factor_cols <- c("user_name","new_window")
date_cols <- c("cvtd_timestamp")
training[, c(factor_cols,"classe")] <- lapply(training[, c(factor_cols,"classe")], factor)
training[, date_cols] <- dmy_hm(training[, date_cols])
for(i in num_cols){
print(i)
training[,i] <- lapply(training[,i], as.numeric)
}
training <- read.csv("./data/training.csv")
for(i in names(training)){
training[which(training[,i] == "" | training[,i] == "#DIV/0!" | training[,i] == "NA"), i] <- NA
}
training <- training[, !apply(is.na(training), 2, all)]
factor_cols <- c("user_name","new_window")
date_cols <- c("cvtd_timestamp")
training[, c(factor_cols,"classe")] <- lapply(training[, c(factor_cols,"classe")], factor)
training[, date_cols] <- dmy_hm(training[, date_cols])
num_cols <- which(!names(training) %in% c(factor_cols,date_cols,"classe"))
for(i in num_cols){
print(i)
print(lapply(training[,i], as.numeric))
}
for(i in num_cols){
print(i)
training[,i] <- as.numeric(training[,i])
}
training <- read.csv("./data/training.csv")
for(i in names(training)){
training[which(training[,i] == "" | training[,i] == "#DIV/0!" | training[,i] == "NA"), i] <- NA
}
training <- training[, !apply(is.na(training), 2, all)]
factor_cols <- c("user_name","new_window")
date_cols <- c("cvtd_timestamp")
training[, c(factor_cols,"classe")] <- lapply(training[, c(factor_cols,"classe")], factor)
training[, date_cols] <- dmy_hm(training[, date_cols])
num_cols <- which(!names(training) %in% c(factor_cols,date_cols,"classe"))
training[, num_cols] <- lapply(training[, num_cols], as.numeric)
summary(training)
testing[, factor_cols] <- lapply(testing[, factor_cols], factor)
testing[, date_cols] <- dmy_hm(testing[, date_cols])
testing[, num_cols] <- lapply(testing[, num_cols], as.numeric)
testing <- read.csv("./data/testing.csv")
testing[, factor_cols] <- lapply(testing[, factor_cols], factor)
testing[, date_cols] <- dmy_hm(testing[, date_cols])
testing[, num_cols] <- lapply(testing[, num_cols], as.numeric)
na_cols <- names(training[, !apply(is.na(training), 2, all)])
na_cols <- names(training[, apply(is.na(training), 2, all)])
testing <- read.csv("./data/testing.csv")
training <- read.csv("./data/training.csv")
for(i in names(training)){
training[which(training[,i] == "" | training[,i] == "#DIV/0!" | training[,i] == "NA"), i] <- NA
}
na_cols <- names(training[, apply(is.na(training), 2, all)])
training <- training[, !na_cols]
training <- training[, !c(na_cols)]
training <- training[, -c(na_cols)]
training <- training[, na_cols]
training <- training[, training[, apply(is.na(training), 2, all)]]
training <- training[, !apply(is.na(training), 2, all)]
factor_cols <- c("user_name","new_window")
date_cols <- c("cvtd_timestamp")
training[, c(factor_cols,"classe")] <- lapply(training[, c(factor_cols,"classe")], factor)
testing <- read.csv("./data/testing.csv")
training <- read.csv("./data/training.csv")
for(i in names(training)){
training[which(training[,i] == "" | training[,i] == "#DIV/0!" | training[,i] == "NA"), i] <- NA
}
na_cols <- names(training[, apply(is.na(training), 2, all)])
training <- training[, !apply(is.na(training), 2, all)]
factor_cols <- c("user_name","new_window")
date_cols <- c("cvtd_timestamp")
training[, c(factor_cols,"classe")] <- lapply(training[, c(factor_cols,"classe")], factor)
training[, date_cols] <- dmy_hm(training[, date_cols])
num_cols <- which(!names(training) %in% c(factor_cols,date_cols,"classe"))
training[, num_cols] <- lapply(training[, num_cols], as.numeric)
testing[, factor_cols] <- lapply(testing[, factor_cols], factor)
testing[, date_cols] <- dmy_hm(testing[, date_cols])
testing[, num_cols] <- lapply(testing[, num_cols], as.numeric)
suppressMessages(library(caret))
suppressMessages(library(randomForest))
suppressMessages(library(ggplot2))
suppressMessages(library(rattle))
suppressMessages(library(ModelMetrics))
suppressMessages(library(gbm))
suppressMessages(library(glmnet))
suppressMessages(library(Hmisc))
suppressMessages(library(pgmm))
suppressMessages(library(forecast))
suppressMessages(library(dplyr))
suppressMessages(library(lubridate))
setwd("C:/Repository/MachineLearning/PracticalMachineLearning")
if (!dir.exists("./data/")){
dir.create("./data/")
download.file("https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv", destfile = "./data/training.csv")
download.file("https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv", destfile = "./data/testing.csv")
}
# Reading in the downloaded data
testing <- read.csv("./data/testing.csv")
training <- read.csv("./data/training.csv")
for(i in names(training)){
training[which(training[,i] == "" | training[,i] == "#DIV/0!" | training[,i] == "NA"), i] <- NA
}
na_cols <- names(training[, apply(is.na(training), 2, all)])
training <- training[, !apply(is.na(training), 2, all)]
factor_cols <- c("user_name","new_window")
date_cols <- c("cvtd_timestamp")
training[, c(factor_cols,"classe")] <- lapply(training[, c(factor_cols,"classe")], factor)
training[, date_cols] <- dmy_hm(training[, date_cols])
num_cols <- which(!names(training) %in% c(factor_cols,date_cols,"classe"))
training[, num_cols] <- lapply(training[, num_cols], as.numeric)
testing[, factor_cols] <- lapply(testing[, factor_cols], factor)
testing[, date_cols] <- dmy_hm(testing[, date_cols])
testing[, num_cols] <- lapply(testing[, num_cols], as.numeric)
training_agg <- training %>% group_by(num_window) %>% summarise(func = mean())
training_agg <- training %>% group_by(num_window) %>% summarise_each(funs(mean))
View(training_agg)
training[,c("num_window","classe")]
training_sub <- subset(training, select = -c(X,raw_timestamp_part_1,raw_timestamp_part_2,cvtd_timestamp,new_window,classe))
training_agg <- training_sub %>% group_by(num_window) %>% summarise_each(funs(mean))
training_sub <- subset(training, select = -c(X,raw_timestamp_part_1,raw_timestamp_part_2,cvtd_timestamp,new_window,classe))
training_agg <- training_sub %>% group_by(num_window) %>% summarise_each(funs(mean, na.rm = TRUE))
training_agg <- training_sub %>% group_by(num_window) %>% summarise_each(funs(mean))
training_sub <- subset(training, select = -c(X,raw_timestamp_part_1,raw_timestamp_part_2,cvtd_timestamp,new_window,classe))
training_agg <- training_sub %>% group_by(num_window) %>% summarise_each(funs(mean(., na.rm = TRUE)))
View(training_agg)
training_sub <- subset(training, select = -c(X,user_name,raw_timestamp_part_1,raw_timestamp_part_2,cvtd_timestamp,new_window,classe))
training_agg <- training_sub %>% group_by(num_window) %>% summarise_each(funs(mean(., na.rm = TRUE)))
View(training_agg)
View(training)
train <- join_query(training,training_agg, by = num_window)
train <- join_query(training,training_agg, by = "num_window"")
train <- join_query(training,training_agg, by = "num_window")
train <- join_query(training,training_agg, by = "num_window")
train <- join_query(training,training_agg, type="right" by = "num_window")
train <- join_query(training,training_agg, type="right", by = "num_window")
train <- join_query(training,training_agg, type="inner", by = "num_window")
train
train <- merge(training, training_agg, by.x="num_window")
train <- merge(training, training_agg, by.x="num_window", by.y="num_window")
View(train)
train <- merge(training, training_agg, by="num_window")
train <- merge(training, training_agg, by="num_window" all.y=TRUE)
train <- merge(training, training_agg, by="num_window", all.y = TRUE)
View(train)
train <- merge(training, training_agg, by = "num_window", all = TRUE)
train <- merge(training, training_agg, by = "num_window", all = FALSE)
train <- merge(training, training_agg, by = "num_window", all.y = FALSE)
train <- merge(training, training_agg, by = "num_window", all.x = FALSE)
train <- merge(training, training_agg, by.x = "num_window", all = TRUE)
train <- merge(training, training_agg, by = "num_window", all = TRUE)
train <- inner_join(training, training_agg)
train <- right_join(training, training_agg)
View(train)
train <- right_join(training, training_agg, by = "num_window")
train <- left_join(training, training_agg, by = "num_window")
train <- left_join(training_agg, training, by = "num_window")
train <- semi_join(training_agg, training, by = "num_window")
View(train)
train <- semi_join(training, training_agg, by = "num_window")
View(train)
train <- anti_join(training, training_agg, by = "num_window")
train <- anti_join(training_agg, training, by = "num_window")
train <- anti_join(training_agg, training, by = "num_window")
train <- inner_join(training_agg, training, by = "num_window")
train <- inner_join(training, training_agg, by = "num_window")
train <- inner_join(training_agg, training, by = "num_window")
train <- left_join(training_agg, training, by = "num_window")
train <- right_join(training_agg, training, by = "num_window")
train <- merge(training_agg, training, by = ”num_window”, all.x=TRUE)
train <- merge(training_agg, training, by = "num_window", all.x=TRUE)
train <- merge(training_agg, training, by = "num_window", all.x = TRUE)
train <- merge(training_agg, training, by = "num_window", all.y = TRUE)
train <- merge(training_agg, training, by = "num_window", all.x = TRUE)
train <- merge(training_agg, training, by = "num_window", all = TRUE)
train <- merge(training_agg, training, by = "num_window")
train <- merge(training_agg, training, by = "num_window", all = TRUE)
suppressMessages(library(caret))
suppressMessages(library(randomForest))
suppressMessages(library(ggplot2))
suppressMessages(library(rattle))
suppressMessages(library(ModelMetrics))
suppressMessages(library(gbm))
suppressMessages(library(glmnet))
suppressMessages(library(Hmisc))
suppressMessages(library(pgmm))
suppressMessages(library(forecast))
suppressMessages(library(dplyr))
suppressMessages(library(lubridate))
train <- merge(training_agg, training, by = "num_window", all = TRUE)
train <- merge(training_agg, training, by = "num_window", all.y = TRUE)
train <- merge(training_agg, training, by = "num_window", all.x = TRUE)
View(train)
train <- merge(training_agg, training, by = "num_window", all.x = TRUE)
